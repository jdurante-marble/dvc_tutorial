schema: '2.0'
stages:
  prepare:
    cmd: python cd_src/prepare.py
    deps:
    - path: cd_src/prepare.py
      hash: md5
      md5: ff4ae76a9f59db7f4ccf019858fccaa1
      size: 685
    outs:
    - path: data/raw
      hash: md5
      md5: 0961ec15c3d30f15e1af55d2cc39d8f5.dir
      size: 45598094
      nfiles: 2000
  featurize:
    cmd: python src/featurization.py data/prepared data/features
    deps:
    - path: data/prepared
      hash: md5
      md5: 153aad06d376b6595932470e459ef42a.dir
      size: 8437363
      nfiles: 2
    - path: src/featurization.py
      hash: md5
      md5: e22789fc9581cad11ef7a6fa3aa3f17b
      size: 4158
    params:
      params.yaml:
        featurize.max_features: 2500
        featurize.ngrams: 3
    outs:
    - path: data/features
      hash: md5
      md5: 89b7bc5c43d6116cbf8b020fe8eaa567.dir
      size: 5127428
      nfiles: 2
  train:
    cmd: python cd_src/train.py
    deps:
    - path: cd_src/train.py
      hash: md5
      md5: 3bd8568996f252d2723da2a204db02a4
      size: 2998
    - path: data/processed
      hash: md5
      md5: 642841f765bb921d3acd3991fc7635c2.dir
      size: 25810846
      nfiles: 2800
    outs:
    - path: cd_models/autoencoder.h5
      hash: md5
      md5: c9904ed1019024d2a3abacb720858c4a
      size: 37925320
  evaluate:
    cmd: python cd_src/evaluate.py
    deps:
    - path: cd_models/autoencoder.h5
      hash: md5
      md5: c9904ed1019024d2a3abacb720858c4a
      size: 37925320
    - path: cd_src/evaluate.py
      hash: md5
      md5: 10dfe0f82251838a00f3136e8eb4eef5
      size: 688
    outs:
    - path: cd_metrics/eval.txt
      hash: md5
      md5: 23c48b2b9f18e0062b4687a50ab03a06
      size: 26
  preprocess:
    cmd: python cd_src/preprocess.py
    deps:
    - path: cd_src/preprocess.py
      hash: md5
      md5: 680702481eaf841a46699e40b62e4c04
      size: 2246
    - path: data/raw
      hash: md5
      md5: 0961ec15c3d30f15e1af55d2cc39d8f5.dir
      size: 45598094
      nfiles: 2000
    outs:
    - path: data/processed
      hash: md5
      md5: 642841f765bb921d3acd3991fc7635c2.dir
      size: 25810846
      nfiles: 2800
